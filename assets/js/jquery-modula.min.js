"use strict";function tg_getURLParameter(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}("undefined"!=typeof window?window:this,function(){function t(t,e){var i=Object.prototype.toString.call(t),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&t instanceof jQuery||"undefined"!=typeof Elements&&t instanceof Elements,o=0,s=t.length;if(n)for(;o<s;o++)e(t[o]);else e(t)}function e(t){if(!t.getBoundingClientRect)return{width:t.offsetWidth,height:t.offsetHeight};var e=t.getBoundingClientRect();return{width:Math.round(e.width),height:Math.round(e.height)}}if("undefined"==typeof window)return null;var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},n=function(o,s){function h(){var t,e,i=[];this.add=function(t){i.push(t)},this.call=function(){for(t=0,e=i.length;t<e;t++)i[t].call()},this.remove=function(n){var o=[];for(t=0,e=i.length;t<e;t++)i[t]!==n&&o.push(i[t]);i=o},this.length=function(){return i.length}}t(o,function(t){!function(t,n){if(t)if(t.resizedAttached)t.resizedAttached.add(n);else{t.resizedAttached=new h,t.resizedAttached.add(n),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var o="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",s="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=o,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var a=window.getComputedStyle(t).getPropertyPriority("position");"absolute"!==a&&"relative"!==a&&"fixed"!==a&&(t.style.position="relative");var r,d,l=t.resizeSensor.childNodes[0],c=l.childNodes[0],p=t.resizeSensor.childNodes[1],u=e(t),f=u.width,g=u.height,m=function(){var e=0===t.offsetWidth&&0===t.offsetHeight;if(e){var i=t.style.display;t.style.display="block"}c.style.width="100000px",c.style.height="100000px",l.scrollLeft=1e5,l.scrollTop=1e5,p.scrollLeft=1e5,p.scrollTop=1e5,e&&(t.style.display=i)};t.resizeSensor.resetSensor=m;var w=function(){d=0,r&&(f=void 0,g=void 0,t.resizedAttached&&t.resizedAttached.call())},v=function(){var n=e(t),o=n.width,s=n.height;(r=o!=f||s!=g)&&!d&&(d=i(w)),m()},y=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};y(l,"scroll",v),y(p,"scroll",v),i(m)}}(t,s)}),this.detach=function(t){n.detach(o,t)},this.reset=function(){o.resizeSensor.resetSensor()}};return n.reset=function(e,i){t(e,function(t){t.resizeSensor.resetSensor()})},n.detach=function(e,i){t(e,function(t){t&&(t.resizedAttached&&"function"==typeof i&&(t.resizedAttached.remove(i),t.resizedAttached.length())||t.resizeSensor&&(t.contains(t.resizeSensor)&&t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached))})},n}),jQuery(document).on("vc-full-width-row-single vc-full-width-row",function(t,e){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")}),function(t,e,i,n){function o(e,i){this.element=e,this.$element=t(e),this.$itemsCnt=this.$element.find(".modula-items"),this.$items=this.$itemsCnt.find(".modula-item"),this.options=t.extend({},h,i),this._defaults=h,this._name=s,this.tiles=[],this.$tilesCnt=null,this.completed=!1,this.lastWidth=0,this.resizeTO=0,this.isPackeryActive=!1,this.init()}var s="modulaGallery",h={resizer:"/",margin:10,keepArea:!0,type:"creative-gallery",columns:12,gutter:10,enableTwitter:!1,enableFacebook:!1,enableGplus:!1,enablePinterest:!1,enableLinkedin:!1,lazyLoad:0};o.prototype.trunc=function(t){return Math.trunc?Math.trunc(t):(t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t)},o.prototype.createCustomGallery=function(){var e,n=this.$element.width(),o=this,s=this.options.columns,h=i.documentElement.clientWidth;"1"==this.options.enableResponsive&&(h<=568?s=this.options.mobileColumns:h<=768&&(s=this.options.tabletColumns)),e=0<this.options.gutter?(n-this.options.gutter*(s-1))/s:Math.floor(n/s),this.$items.not(".jtg-hidden").each(function(i,n){var h,a,r,d,l={};h=t(n).data("width"),a=t(n).data("height"),12<h&&(h=12),"1"==o.options.enableResponsive&&(r=h,d=a,1==s?a=(h=1)*d/r:((h=Math.round(s*r/12))<1&&(h=1),(a=Math.round(h*d/r))<1&&(a=1))),l.width=e*h+o.options.gutter*(h-1),l.height=Math.round(e)*a+o.options.gutter*(a-1),t(n).data("size",l).addClass("tiled").addClass(l.width>l.height?"tile-h":"tile-v").data("position"),t(n).css(t(n).data("size")),t(n).find(".figc").css({width:t(n).data("size").width,height:t(n).data("size").height})}),this.isPackeryActive&&this.$itemsCnt.packery("destroy"),this.$itemsCnt.packery({itemSelector:".modula-item",gutter:parseInt(o.options.gutter),columnWidth:e,resize:!1}),this.isPackeryActive=!0},o.prototype.createGrid=function(){var e=this;this.options.width&&this.$itemsCnt.width(this.options.width),this.options.height&&this.$itemsCnt.height(this.options.height),this.$itemsCnt.data("area",this.$itemsCnt.width()*this.$itemsCnt.height()),this.lastWidth=this.$itemsCnt.width();for(var i=0;i<this.$items.not(".jtg-hidden").length;i++)this.tiles.push(e.getSlot());this.tiles.sort(function(t,e){return t.position-e.position}),this.$items.not(".jtg-hidden").each(function(i,n){var o=e.tiles[i];t(n).data("size",o).addClass("tiled").addClass(o.width>o.height?"tile-h":"tile-v").data("position")}),this.$items.each(function(e,i){t(i).css(t(i).data("size")),t(i).find(".figc").css({width:t(i).data("size").width,height:t(i).data("size").height})}),this.completed=!0},o.prototype.getSlot=function(){if(0==this.tiles.length)return{top:0,left:0,width:this.$itemsCnt.width(),height:this.$itemsCnt.height(),area:this.$itemsCnt.width()*this.$itemsCnt.height(),position:0};for(var t=0,e=0;e<this.tiles.length;e++)(i=this.tiles[e]).area>this.tiles[t].area&&(t=e);var i={},n=this.tiles[t];if(n.width>n.height){var o=n.width/2*this.options.randomFactor;n.prevWidth=n.width,n.width=Math.floor(n.width/2+o*(Math.random()-.5)),i={top:n.top,left:n.left+n.width+this.options.margin,width:n.prevWidth-n.width-this.options.margin,height:n.height}}else o=n.height/2*this.options.randomFactor,n.prevHeight=n.height,n.height=Math.floor(n.height/2+o*(Math.random()-.5)),i={left:n.left,top:n.top+n.height+this.options.margin,width:n.width,height:n.prevHeight-n.height-this.options.margin};return i.area=i.width*i.height,i.position=1e3*i.top+i.left,n.position=1e3*n.top+n.left,this.tiles[t]=n,this.tiles[t].area=n.width*n.height,i},o.prototype.reset=function(){var t=this;t.tiles=[],"custom-grid"===t.options.type?(t.createCustomGallery(),t.$itemsCnt.packery()):"creative-gallery"==this.options.type&&t.createGrid(),t.$itemsCnt.find(".pic").each(function(e,i){t.placeImage(e)}),t.lastWidth=t.$itemsCnt.width()},o.prototype.onResize=function(t){t.lastWidth!=t.$itemsCnt.width()&&(clearTimeout(t.resizeTO),t.resizeTO=setTimeout(function(){if(t.options.keepArea){var e=t.$itemsCnt.data("area");t.$itemsCnt.height(e/t.$itemsCnt.width())}t.reset()},100))},o.prototype.placeImage=function(t){var e=this.$items.eq(t),i=e.find(".pic"),n=e.data("size"),o=i.data("size");if(i.parent()!=e&&(n={width:i.parent().width(),height:i.parent().height()}),void 0!==n&&void 0!==o){var s=n.width/n.height,h=o.width/o.height,a=i.data("valign")?i.data("valign"):"middle",r=i.data("halign")?i.data("halign"):"center",d={top:"auto",bottom:"auto",left:"auto",right:"auto",width:"auto",height:"auto",margin:"0",maxWidth:"999em"};if(h<s)switch(d.width=n.width,d.left=0,a){case"top":d.top=0;break;case"middle":d.top=0-(n.width*(1/h)-n.height)/2;break;case"bottom":d.bottom=0}else switch(d.height=n.height,d.top=0,r){case"left":d.left=0;break;case"center":d.left=0-(n.height*h-n.width)/2;break;case"right":d.right=0}i.css(d)}},o.prototype.loadImage=function(t){var e=this,i=e.$items.eq(t).find(".pic"),n=new Image;n.onerror=function(){console.log("error loading image ["+t+"] : "+this.src),t+1<e.$items.length&&e.loadImage(t+1)},n.onload=function(){i.data("size",{width:this.width,height:this.height}),e.placeImage(t),e.$items.eq(t).addClass("tg-loaded"),t+1<e.$items.length&&e.loadImage(t+1)};var o=i.data("src");n.src=o,i.attr("src",o)},o.prototype.init=function(){var n=this;t(i).trigger("modula_api_before_init",[n]),this.$itemsCnt.css({position:"relative",zIndex:1,"min-height":"10px"}),this.$items.addClass("tile"),this.$items.find(".pic").removeAttr("src"),"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type&&this.createGrid(),"1"!=n.options.lazyLoad&&this.loadImage(0),t(e).resize(function(){n.onResize(n)}),t(e).on("modula-update",function(){n.onResize(n)}),t(i).on("lazyloaded",function(e){var i,o,s=t(e.target);"modula"==s.data("source")&&(s.data("size",{width:s.width(),height:s.height()}),(i=s.parents(".modula-item")).addClass("tg-loaded"),o=n.$items.index(i),n.placeImage(o))}),new ResizeSensor(n.$element,function(){n.onResize(n)}),this.setupSocial(),this.options.onComplete&&this.options.onComplete(),t(i).trigger("modula_api_after_init",[n])},o.prototype.setupSocial=function(){this.options.enableTwitter&&a(this.$items,this),this.options.enableWhatsapp&&r(this.$items,this),this.options.enableFacebook&&d(this.$items,this),this.options.enablePinterest&&l(this.$items,this),this.options.enableLinkedin&&c(this.$items,this)},o.prototype.destroy=function(){this.isPackeryActive&&(this.$itemsCnt.packery("destroy"),this.isPackeryActive=!1)};var a=function(n,o){n.find(".modula-icon-twitter").click(function(n){n.preventDefault();var s=t(this).parents(".tile:first").find(".caption"),h=o.options.twitterText||i.title;return!o.options.twitterText&&1==s.length&&0<s.text().length&&(h=t.trim(s.text())),e.open("https://twitter.com/intent/tweet?url="+encodeURI(location.href.split("#")[0])+"&text="+encodeURI(h),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},r=function(n,o){n.find(".modula-icon-whatsapp").click(function(n){n.preventDefault();var s=t(this).parents(".tile:first").find(".caption"),h=o.options.whatsappText||i.title;return!o.options.whatsappText&&1==s.length&&0<s.text().length&&(h=t.trim(s.text())),e.open("https://api.whatsapp.com/send?text="+encodeURI(h)+' '+encodeURI((window.location.href.split("#")[0])),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},d=function(n,o){n.find(".modula-icon-facebook").click(function(n){n.preventDefault();var s=t(this).parents(".tile:first").find(".pic"),h=t(this).parents(".tile:first").find(".caption");o.options.facebookText||i.title,!o.options.facebookText&&1==h.length&&0<h.text().length&&t.trim(h.text()),s.attr("src");var a="//www.facebook.com/sharer.php?u="+location.href;return e.open(a,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},l=function(n,o){n.find(".modula-icon-pinterest").click(function(n){n.preventDefault();var s=t(this).parents(".tile:first").find(".pic"),h=t(this).parents(".tile:first").find(".caption"),a=o.options.facebookText||i.title;!o.options.facebookText&&1==h.length&&0<h.text().length&&(a=t.trim(h.text()));var r="http://pinterest.com/pin/create/button/?url="+encodeURI(location.href)+"&description="+encodeURI(a);return 1==s.length&&(r+="&media="+function(t){var e=i.createElement("img");return e.src=t,t=e.src,e.src=null,t}(s.attr("src"))),e.open(r,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},c=function(t,i){t.find(".modula-icon-linkedin").click(function(t){t.preventDefault();var i="//linkedin.com/shareArticle?mini=true&url="+ +encodeURI(location.href);return e.open(i,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})};t.fn[s]=function(e){var i,h=arguments;return e===n||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new o(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var n=t.data(this,"plugin_"+s);n instanceof o&&"function"==typeof n[e]&&(i=n[e].apply(n,Array.prototype.slice.call(h,1))),"destroy"===e&&t.data(this,"plugin_"+s,null)}),i!==n?i:this):void 0}}(jQuery,window,document),jQuery(document).ready(function(t){var e=t(".modula-gallery");t.each(e,function(){var e=t(this).attr("id"),i=t(this).data("config");t("#"+e).modulaGallery(i)})});