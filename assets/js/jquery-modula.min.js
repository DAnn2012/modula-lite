"use strict";!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.ResizeSensor=t()}("undefined"!=typeof window?window:this,function(){if("undefined"==typeof window)return null;var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};function t(e,t){var i=Object.prototype.toString.call(e),n="[object Array]"===i||"[object NodeList]"===i||"[object HTMLCollection]"===i||"[object Object]"===i||"undefined"!=typeof jQuery&&e instanceof jQuery||"undefined"!=typeof Elements&&e instanceof Elements,o=0,s=e.length;if(n)for(;o<s;o++)t(e[o]);else t(e)}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}var n=function(o,s){function r(){var e,t,i=[];this.add=function(e){i.push(e)},this.call=function(){for(e=0,t=i.length;e<t;e++)i[e].call()},this.remove=function(n){var o=[];for(e=0,t=i.length;e<t;e++)i[e]!==n&&o.push(i[e]);i=o},this.length=function(){return i.length}}t(o,function(t){!function(t,n){if(t)if(t.resizedAttached)t.resizedAttached.add(n);else{t.resizedAttached=new r,t.resizedAttached.add(n),t.resizeSensor=document.createElement("div"),t.resizeSensor.dir="ltr",t.resizeSensor.className="resize-sensor";var o="position: absolute; left: -10px; top: -10px; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden;",s="position: absolute; left: 0; top: 0; transition: 0s;";t.resizeSensor.style.cssText=o,t.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+o+'"><div style="'+s+'"></div></div><div class="resize-sensor-shrink" style="'+o+'"><div style="'+s+' width: 200%; height: 200%"></div></div>',t.appendChild(t.resizeSensor);var d=window.getComputedStyle(t).getPropertyPriority("position");"absolute"!==d&&"relative"!==d&&"fixed"!==d&&(t.style.position="relative");var c,l,a=t.resizeSensor.childNodes[0],h=a.childNodes[0],f=t.resizeSensor.childNodes[1],u=i(t),v=u.width,p=u.height,z=function(){var e=0===t.offsetWidth&&0===t.offsetHeight;if(e){var i=t.style.display;t.style.display="block"}h.style.width="100000px",h.style.height="100000px",a.scrollLeft=1e5,a.scrollTop=1e5,f.scrollLeft=1e5,f.scrollTop=1e5,e&&(t.style.display=i)};t.resizeSensor.resetSensor=z;var y=function(){l=0,c&&(v=void 0,p=void 0,t.resizedAttached&&t.resizedAttached.call())},w=function(){var n=i(t),o=n.width,s=n.height;(c=o!=v||s!=p)&&!l&&(l=e(y)),z()},g=function(e,t,i){e.attachEvent?e.attachEvent("on"+t,i):e.addEventListener(t,i)};g(a,"scroll",w),g(f,"scroll",w),e(z)}}(t,s)}),this.detach=function(e){n.detach(o,e)},this.reset=function(){o.resizeSensor.resetSensor()}};return n.reset=function(e,i){t(e,function(e){e.resizeSensor.resetSensor()})},n.detach=function(e,i){t(e,function(e){e&&(e.resizedAttached&&"function"==typeof i&&(e.resizedAttached.remove(i),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))})},n});
function tg_getURLParameter(t){return decodeURIComponent((new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function modulaInViewport(t){"function"==typeof jQuery&&t instanceof jQuery&&(t=t[0]);var e=t.getBoundingClientRect();return e.top-jQuery(window).height()<=-100&&-400<=e.top-jQuery(window).height()||e.bottom<=jQuery(window).height()}jQuery(document).on("vc-full-width-row-single vc-full-width-row",function(t,e){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")}),jQuery(window).on("elementor/frontend/init",function(){window.elementorFrontend&&window.elementorFrontend.hooks.addAction("frontend/element_ready/global",function(t){0<jQuery("body").find(".modula").length&&jQuery(window).trigger("modula-update")})}),function(d,r,c,t){var n="modulaGallery",i={resizer:"/",margin:10,keepArea:!0,type:"creative-gallery",columns:12,gutter:10,enableTwitter:!1,enableFacebook:!1,enableWhatsapp:!1,enablePinterest:!1,enableLinkedin:!1,enableEmail:!1,lazyLoad:0};function s(t,e){this.element=t,this.$element=d(t),this.$itemsCnt=this.$element.find(".modula-items"),this.$items=this.$itemsCnt.find(".modula-item"),this.options=d.extend({},i,e),this._defaults=i,this._name=n,this.tiles=[],this.$tilesCnt=null,this.completed=!1,this.lastWidth=0,this.resizeTO=0,this.isPackeryActive=!1,this.init()}s.prototype.trunc=function(t){return Math.trunc?Math.trunc(t):(t=+t,isFinite(t)?t-t%1||(t<0?-0:0===t?t:0):t)},s.prototype.createCustomGallery=function(){var h,t=this.$element.width(),r=this,l=this.options.columns,e=c.documentElement.clientWidth;"1"==this.options.enableResponsive&&(e<=568?l=this.options.mobileColumns:e<=768&&(l=this.options.tabletColumns)),h=0<this.options.gutter?(t-this.options.gutter*(l-1))/l:Math.floor(t/l*1e3)/1e3,this.$items.not(".jtg-hidden").each(function(t,e){var i,o,n={},s=d(e).data("width"),a=d(e).data("height");12<s&&(s=12),"1"==r.options.enableResponsive&&(i=s,o=a,1==l?a=(s=1)*o/i:((s=Math.round(l*i/12))<1&&(s=1),(a=Math.round(s*o/i))<1&&(a=1))),n.width=h*s+r.options.gutter*(s-1),n.height=Math.round(h)*a+r.options.gutter*(a-1),d(e).data("size",n).addClass("tiled").addClass(n.width>n.height?"tile-h":"tile-v").data("position"),d(e).css(d(e).data("size")),d(e).find(".figc").css({width:d(e).data("size").width,height:d(e).data("size").height})}),this.isPackeryActive&&this.$itemsCnt.packery("destroy"),this.$itemsCnt.packery({itemSelector:".modula-item",gutter:parseInt(r.options.gutter),columnWidth:h,resize:!1}),this.isPackeryActive=!0},s.prototype.createGrid=function(){var o=this;this.options.width&&this.$itemsCnt.width(this.options.width),this.options.height&&this.$itemsCnt.height(this.options.height),this.$itemsCnt.data("area",this.$itemsCnt.width()*this.$itemsCnt.height()),this.lastWidth=this.$itemsCnt.width();for(var t=0;t<this.$items.not(".jtg-hidden").length;t++)this.tiles.push(o.getSlot());this.tiles.sort(function(t,e){return t.position-e.position}),this.$items.not(".jtg-hidden").each(function(t,e){var i=o.tiles[t];d(e).data("size",i).addClass("tiled").addClass(i.width>i.height?"tile-h":"tile-v").data("position")}),this.$items.each(function(t,e){d(e).css(d(e).data("size")),d(e).find(".figc").css({width:d(e).data("size").width,height:d(e).data("size").height})}),this.completed=!0},s.prototype.getSlot=function(){if(0==this.tiles.length)return o={top:0,left:0,width:this.$itemsCnt.width(),height:this.$itemsCnt.height(),area:this.$itemsCnt.width()*this.$itemsCnt.height(),position:0};for(var t=0,e=0;e<this.tiles.length;e++){(o=this.tiles[e]).area>this.tiles[t].area&&(t=e)}var i,o={},n=this.tiles[t];return(o=n.width>n.height?(i=n.width/2*this.options.randomFactor,n.prevWidth=n.width,n.width=Math.floor(n.width/2+i*(Math.random()-.5)),{top:n.top,left:n.left+n.width+this.options.margin,width:n.prevWidth-n.width-this.options.margin,height:n.height}):(i=n.height/2*this.options.randomFactor,n.prevHeight=n.height,n.height=Math.floor(n.height/2+i*(Math.random()-.5)),{left:n.left,top:n.top+n.height+this.options.margin,width:n.width,height:n.prevHeight-n.height-this.options.margin})).area=o.width*o.height,o.position=1e3*o.top+o.left,n.position=1e3*n.top+n.left,this.tiles[t]=n,this.tiles[t].area=n.width*n.height,o},s.prototype.reset=function(){var i=this;i.tiles=[],"custom-grid"===i.options.type?(i.createCustomGallery(),i.$itemsCnt.packery()):"creative-gallery"==this.options.type&&i.createGrid(),i.$itemsCnt.find(".pic").each(function(t,e){i.placeImage(t)}),i.lastWidth=i.$itemsCnt.width()},s.prototype.onResize=function(e){e.lastWidth!=e.$itemsCnt.width()&&(clearTimeout(e.resizeTO),e.resizeTO=setTimeout(function(){var t;e.options.keepArea&&(t=e.$itemsCnt.data("area"),e.$itemsCnt.height(t/e.$itemsCnt.width())),e.reset()},100))},s.prototype.placeImage=function(t){var e=this.$items.eq(t),i=e.find(".pic"),o=e.data("size"),n=i.data("size");if(i.parent()!=e&&(o={width:i.parent().width(),height:i.parent().height()}),void 0!==o&&void 0!==n){var s=o.width/o.height,a=n.width/n.height,h=i.data("valign")?i.data("valign"):"middle",r=i.data("halign")?i.data("halign"):"center",l={top:"auto",bottom:"auto",left:"auto",right:"auto",width:"auto",height:"auto",margin:"0",maxWidth:"999em"};if(a<s)switch(l.width=o.width,l.left=0,h){case"top":l.top=0;break;case"middle":l.top=0-(o.width*(1/a)-o.height)/2;break;case"bottom":l.bottom=0}else switch(l.height=o.height,l.top=0,r){case"left":l.left=0;break;case"center":l.left=0-(o.height*a-o.width)/2;break;case"right":l.right=0}i.css(l)}},s.prototype.loadImage=function(t){var e=this,i=e.$items.eq(t).find(".pic"),o=new Image;o.onerror=function(){console.log("error loading image ["+t+"] : "+this.src),t+1<e.$items.length&&e.loadImage(t+1)},o.onload=function(){i.data("size",{width:this.width,height:this.height}),e.placeImage(t),e.$items.eq(t).addClass("tg-loaded"),t+1<e.$items.length&&e.loadImage(t+1)};var n=i.data("src");o.src=n,i.attr("src",n)},s.prototype.init=function(){var n=this;d(c).trigger("modula_api_before_init",[n]),this.$itemsCnt.css({position:"relative",zIndex:1,"min-height":"10px"}),this.$items.addClass("tile"),this.$items.find(".pic").removeAttr("src"),"custom-grid"===this.options.type?this.createCustomGallery():"creative-gallery"==this.options.type&&this.createGrid(),"1"!=n.options.lazyLoad&&this.loadImage(0),d(r).resize(function(){n.onResize(n)}),d(r).on("modula-update",function(){n.onResize(n)}),d(c).on("lazyloaded",function(t){var e,i,o=d(t.target);"modula"==o.data("source")&&(o.data("size",{width:o.width(),height:o.height()}),(e=o.parents(".modula-item")).addClass("tg-loaded"),i=n.$items.index(e),n.placeImage(i))}),this.setupSocial(),this.options.onComplete&&this.options.onComplete(),d(c).trigger("modula_api_after_init",[n])},s.prototype.setupSocial=function(){this.options.enableTwitter&&e(this.$items,this),this.options.enableFacebook&&o(this.$items,this),this.options.enablePinterest&&h(this.$items,this),this.options.enableLinkedin&&l(this.$items,this),this.options.enableWhatsapp&&a(this.$items,this),this.options.enableEmail&&p(this.$items,this)},s.prototype.destroy=function(){this.isPackeryActive&&(this.$itemsCnt.packery("destroy"),this.isPackeryActive=!1)};var e=function(t,i){t.find(".modula-icon-twitter").click(function(t){t.preventDefault();var e=i.options.twitterText||c.title;return!i.options.twitterText&&1=="".length&&0<"".text().length&&(e=d.trim("".text())),r.open("https://twitter.com/intent/tweet?url="+encodeURI(location.href.split("#")[0])+"&text="+encodeURI(e),"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},o=function(t,o){t.find(".modula-icon-facebook").click(function(t){t.preventDefault();var e=d(this).parents(".tile:first").find(".pic");o.options.facebookText||c.title;!o.options.facebookText&&1=="".length&&0<"".text().length&&d.trim("".text());e.attr("src");var i="//www.facebook.com/sharer.php?u="+location.href;return r.open(i,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},a=function(t,e){t.find(".modula-icon-whatsapp").click(function(t){t.preventDefault();e.options.whatsappText||c.title;return!e.options.whatsappText&&1=="".length&&0<"".text().length&&d.trim("".text()),r.open("https://api.whatsapp.com/send?text="+encodeURI(r.location.href.split("#")[0])+"&preview_url=true","ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},h=function(t,h){t.find(".modula-icon-pinterest").click(function(t){t.preventDefault();var e=d(this).parents(".tile:first").find(".pic"),i=h.options.pinterestText||c.title;!h.options.pinterestText&&1=="".length&&0<"".text().length&&(i=d.trim("".text()));var o,n,s,a="http://pinterest.com/pin/create/button/?url="+encodeURI(location.href)+"&description="+encodeURI(i);return 1==e.length&&(o=e.attr("src"),a+="&media="+(n=o,(s=c.createElement("img")).src=n,n=s.src,s.src=null,n)),r.open(a,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},l=function(t,e){t.find(".modula-icon-linkedin").click(function(t){t.preventDefault();var e="//linkedin.com/shareArticle?mini=true&url="+ +encodeURI(location.href);return r.open(e,"ftgw","location=1,status=1,scrollbars=1,width=600,height=400").moveTo(screen.width/2-300,screen.height/2-200),!1})},p=function(t,e){t.find(".modula-icon-email").click(function(t){var e=encodeURI(modulaHelper.emailOptions.email_subject),i=jQuery(".modula-icon-email").parents(".tile:first").find(".pic"),o=encodeURI(modulaHelper.emailOptions.image_message+" "+i[0].currentSrc),n=encodeURI(modulaHelper.emailOptions.gallery_message+" "+location.href);this.setAttribute("href","mailto:?subject="+e+"&body="+o+" . "+n)})};d.fn[n]=function(e){var i,o=arguments;return e===t||"object"==typeof e?this.each(function(){d.data(this,"plugin_"+n)||d.data(this,"plugin_"+n,new s(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each(function(){var t=d.data(this,"plugin_"+n);t instanceof s&&"function"==typeof t[e]&&(i=t[e].apply(t,Array.prototype.slice.call(o,1))),"destroy"===e&&d.data(this,"plugin_"+n,null)}),i!==t?i:this):void 0}}(jQuery,window,document),jQuery(document).ready(function(i){var t=i(".modula-gallery");i.each(t,function(){var t=i(this).attr("id"),e=i(this).data("config");i("#"+t).modulaGallery(e)})}),jQuery(document).on("modula_api_after_init",function(t,n){1==modulaHelper.fancybox_options.lite_function&&(modulaHelper.fancybox_options.options.afterShow=function(t,e,i){var o=jQuery(n.$items[t.currIndex]).find("img").attr("alt");void 0!==o&&""!=o&&t.current.$image.attr("alt",o)},jQuery("a.tile-inner[data-fancybox]").modulaFancybox(modulaHelper.fancybox_options.options))});