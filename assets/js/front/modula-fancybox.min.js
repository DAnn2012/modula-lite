!function(o){"use strict";function t(o){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(o).replace(/[&<>"'`=\/]/g,(function(o){return t[o]}))}o.modulaFancybox={open:function(e,n,a){return o.each(e,(function(o,t){void 0!==t.opts.caption&&(e[o].caption=t.opts.caption),void 0!==t.opts.thumb&&(e[o].thumb=t.opts.thumb)})),n.startIndex=a,void 0!==n.Slideshow&&(n.Slideshow.progressParentEl=o=>o.instance.container),void 0!==n.Toolbar&&void 0!==n.Toolbar.items&&void 0!==n.Toolbar.items.share&&(n.Toolbar.items.share.click=()=>{var e,n,a,i,l;e=ModulaFancybox.getInstance(),n=ModulaFancybox.getSlide(),a=void 0!==n.opts.image_src?n.opts.image_src:n.src,i="<div class='modula-fancybox-share'><h1>"+e.options.i18n.SHARE+"</h1><p>",l=JSON.parse(ModulaShareButtons),o.each(e.options.modulaShare,(function(o,t){var r=(e.options.lightboxEmailMessage.length?e.options.lightboxEmailMessage:"Here is the link to the image : %%image_link%% and this is the link to the gallery : %%gallery_link%%").replace(/\%%gallery_link%%/g,window.location.href).replace(/\%%image_link%%/g,a),s=null!=n.opts.$thumb.find("img").attr("title")?n.opts.$thumb.find("img").attr("title"):"";""==s&&n.caption&&void 0!==n.caption&&(s=n.caption),i+=l[t].template({media:"image"===n.type?encodeURIComponent(a):"",modulaShareUrl:encodeURIComponent(a),descr:encodeURIComponent(s),subject:encodeURIComponent(e.options.lightboxEmailSubject),emailMessage:encodeURIComponent(r)})})),i=(i+="</p><p><input class='modula-fancybox-share__input' type='text' value='{url_raw}' /></p></div>").template({url_raw:t(a)}),new ModulaFancybox([{src:i,type:"html",width:640,height:360}],{mainClass:"modula-fancybox-container"})}),n.on={},n.on["*"]=(o,t)=>{},n.on["Carousel.ready"]=(o,t)=>{var e=o.options,n=void 0!==e.Slideshow&&void 0!==e.Slideshow.pauseOnHover&&e.Slideshow.pauseOnHover,a=o.plugins.Slideshow.ref,i=!1;"1"==n&&(jQuery(".modula-fancybox-container .fancybox__slide .fancybox__content").on("mouseover",(function(o){"play"==a.state&&(i=!0,a.stop())})),jQuery(".modula-fancybox-container .fancybox__slide .fancybox__content").on("mouseout",(function(o){"ready"==a.state&&i&&(i=!1,a.start())})))},n.on.init=(o,t)=>{},new ModulaFancybox(e,n)},getInstance:function(){return this}},String.prototype.template=function(o){return this.replace(/\{([^\}]+)\}/g,(function(t,e){for(var n=o,a=e.split("|")[0].split("."),i=0;i<a.length;i++)if(null==(n="function"==typeof n[a[i]]?n[a[i]]():n[a[i]]))return-1!==e.indexOf("|")?e.split("|")[1]:t;return n}))}}(jQuery);